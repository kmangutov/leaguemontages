<div class="submissionView">
    <div class="alert alert-warning" ng-show="!isAccessible">
        <a href="#" class="close" data-dismiss="alert">&times;</a>
        <strong>Warning!</strong> You need to login in order to award badge(s).
    </div>
    <!-- display all infomation about a particular submission -->
    <div class="sub_title">
        {{ subData.title }}
    </div>

    <div class="sub_misc">
        <!-- TODO: badge, rating, view counts, etc -->
       
        <ul>
            <li ng-repeat="(badge, count) in badges" style="display:inline; margin:20px;">
                <div class="btn btn-default" ng-click="badgeHandler(badge)">{{badge}}</div>{{ count }}
            </li>
        </ul>
        <br/>
        <p>Ratings: {{ ratings }} </p>
        <p>Views: {{ views }} </p>
    </div>
    <div class="sub_body">
        created at : {{ subData.createdAt | date:'MM/dd/yyyy @ h:mma'}} <br/>
        url : {{ subData.url }} <br/>
        title : {{ subData.title }} <br/>
        created by : {{ userName }} <br/> 
        description : {{ subData.description }} <br/>

        <video ng-show="subData.url" ng-src="{{ subData.url }}"  controls width="600" height="400">
        </video>
    </div>
    
    <br/>
    <br/>
    
    <div class="sub_footer">
        <!-- TODO: social integration -->
        <div class="comments list">
            <p> Comments </p>
             <textarea ng-model="comment" rows="8" cols="50" class="input-no-width rounded shaded left clearboth" id="msg" required></textarea>
            <div class="btn btn-default" id="comment_apply" ng-click="submitComment()"></div>
            <table class="comment table">
            <!-- TODO: test with mysql, iterate over comments -->
                 <tr ng-repeat="comment in comments">
                    <td> {{ comment.written_by.display_name }} </td>
                    <td> {{ comment.createdAt | date:'MM/dd/yyyy @ h:mma'}} </td>
                    <td> {{ comment.text }} </td>
                 </tr>
            </table>
        </div>
    </div>
</div>